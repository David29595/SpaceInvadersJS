<html>

    <head>
        <title>Space Invaders</title>
        <link rel="stylesheet" href="style.css"></link>
        <!-- add javascript sources-->
        <script src="src/space-invaders/game.js"></script>
        <script src="src/space-invaders/gameStates/initialState.js"></script>
        <script src="src/space-invaders/gameStates/playState.js"></script>
        <script src="src/space-invaders/gameStates/pauseState.js"></script>
        <script src="src/space-invaders/gameStates/deadState.js"></script>
        <script src="src/space-invaders/gameStates/waveTransitionState.js"></script>
        <script src="src/space-invaders/gameStates/infoState.js"></script>
        <script src="src/space-invaders/imageLoader.js"></script>
    </head>

    <body>

      <canvas id="game-canvas" width="1200" height="700"></canvas>

        <script>
        // Options that control various aspects of the game and images I use in each of the game states.
        // These can be changed to change how various parts of the game perform
        var constants = {
            maxInvaders: 56,
            lives: 3,
            startingInvaderRows: 2,
            invaderColumns: 8,
            waveDifficultyMultiplier: 0.3,
            images: {
                menu: [
                    "src/space-invaders/res/menuBG.jpg",
                    "src/space-invaders/res/deadBG.jpg"
                ],
                backgrounds: [
                    "src/space-invaders/res/space1.jpg",
                    "src/space-invaders/res/space2.jpg",
                    "src/space-invaders/res/space3.jpg",
                    "src/space-invaders/res/space4.jpg",
                ],
                invaders: [
                    "src/space-invaders/res/invaders/invader1.png",
                    "src/space-invaders/res/invaders/invader2.png",
                    "src/space-invaders/res/invaders/invader3.png",
                    "src/space-invaders/res/invaders/invader4.png",
                    "src/space-invaders/res/invaders/invader5.png",
                    "src/space-invaders/res/invaders/invader6.png",
                ],
                player: [
                    "src/space-invaders/res/player_ship.png"
                ]
            }
        };

        var game = new Game(constants);
        game.start();

        //  Listen for keyboard events.
        window.addEventListener("keydown", function keydown(e) {
            var keycode = e.which || window.event.keycode;
            //  Supress further processing of left/right/space (37/29/32)
            if(keycode == 37 || keycode == 39 || keycode == 32) {
                e.preventDefault();
            }
            game.keyDown(keycode);
        });
        window.addEventListener("keyup", function keydown(e) {
            var keycode = e.which || window.event.keycode;
            game.keyUp(keycode);
        });
        </script>
    </body>
</html>
